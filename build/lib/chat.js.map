{"version":3,"sources":["../../lib/chat.js"],"names":[],"mappings":";;;AACA,MAAI,MAAJ,EAAY;;AAEV,QAAI,WAAW,SAAS,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,CAAX,CAFM;;AAIV,aAAS,gBAAT,CAA0B,QAA1B,EAAoC,UAAU,KAAV,EAAiB;AACnD,UAAI,OAAO,SAAS,sBAAT,CAAgC,WAAhC,EAA6C,CAA7C,CAAP,CAD+C;;AAGnD,aAAO,KAAP,CAAa,EAAC,MAAM,MAAN,EAAc,SAAS,KAAK,KAAL,EAArC,EAHmD;AAInD,WAAK,KAAL,GAAa,EAAb,CAJmD;;AAMnD,YAAM,cAAN,GANmD;KAAjB,CAApC,CAJU;;AAaV,QAAI,WAAW,SAAS,sBAAT,CAAgC,MAAhC,EAAwC,CAAxC,CAAX,CAbM;AAcV,YAAQ,gBAAR,CAAyB,SAAzB,EAAoC,UAAU,KAAV,EAAiB;;AAEnD,UAAI,UAAU,SAAS,aAAT,CAAuB,GAAvB,CAAV,CAF+C;AAGnD,UAAI,UAAU,SAAS,aAAT,CAAuB,MAAvB,CAAV,CAH+C;AAIjD,cAAQ,WAAR,GAAsB,MAAM,OAAN,CAJ2B;AAKnD,cAAQ,SAAR,GAAoB,aAAa,OAAO,MAAM,IAAN,CAApB,GAAkC,aAAlC,CAL+B;AAMnD,cAAQ,WAAR,CAAoB,OAApB,EANmD;;AAQnD,eAAS,WAAT,CAAqB,OAArB,EARmD;KAAjB,CAApC,CAdU;GAAZ,MA0BO;;AAEL,YAAQ,gBAAR,CAAyB,MAAzB,EAAiC,UAAU,KAAV,EAAiB;;AAEhD,aAAO,KAAP,CAAa;AACX,cAAM,MAAM,KAAN,CAAY,IAAZ;AACN,cAAM,SAAN;AACA,iBAAS,MAAM,OAAN;OAHX,EAFgD;KAAjB,CAAjC,CAFK;GA1BP","file":"chat.js","sourcesContent":["\nif (CLIENT) {\n\n  var chatForm = document.getElementsByClassName('chat-form')[0];\n\n  chatForm.addEventListener('submit', function (event) {\n    var text = chatForm.getElementsByClassName('chat-text')[0];\n\n    primus.write({type: 'chat', message: text.value});\n    text.value = \"\";\n\n    event.preventDefault();\n  });\n\n  var chatList = document.getElementsByClassName('chat')[0];\n  network.addEventListener('receive', function (event) {\n\n    var listing = document.createElement('p');\n    var message = document.createElement('span');\n      message.textContent = event.message;\n    listing.innerHTML = '<strong>' + escape(event.name) + ' </strong> ';\n    listing.appendChild(message);\n    \n    chatList.appendChild(listing);\n\n  });\n\n} else {\n\n  network.addEventListener('chat', function (event) {\n\n    primus.write({\n      name: event.spark.name,\n      type: 'receive',\n      message: event.message\n    });\n\n  })\n\n}"]}